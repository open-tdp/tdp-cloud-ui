import{_ as B,d as C,q as F,s as V,j as D,r as E,a as s,c as I,e as l,b as o,w as t,p as S,f as U,o as j,v as q,i as b,E as v,A as N}from"./index.8c355be6.js";const z=a=>(S("data-v-61f85819"),a=a(),U(),a),A={class:"login-wrap"},K={class:"vt-login"},L=z(()=>l("div",{class:"vt-title"},"TDP Cloud",-1)),T={class:"login-btn"},$=b(" \u767B\u5F55 "),M={class:"login-btn"},P=b("\u6CE8\u518C"),R=C({__name:"login",setup(a){const i=F(),u=V(),n=D({username:"",password:""}),h={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]},d=E(null),p=()=>{d.value.validate(_=>{if(!_)return v.error("\u767B\u5F55\u5931\u8D25"),!1;N.user.login(n).then(e=>{v.success("\u767B\u5F55\u6210\u529F"),u.username=n.username,u.token=e.token,e.keyid>0?(u.keyid=e.keyid,i.push("/")):i.push("/user/secret")})})};return(_,e)=>{const x=s("User"),c=s("el-icon"),m=s("el-input"),g=s("el-form-item"),w=s("Lock"),f=s("el-button"),k=s("router-link"),y=s("el-form");return j(),I("div",A,[l("div",K,[L,o(y,{ref_key:"login",ref:d,model:n,rules:h,"label-width":"0px",class:"vt-content"},{default:t(()=>[o(g,{prop:"username"},{default:t(()=>[o(m,{modelValue:n.username,"onUpdate:modelValue":e[0]||(e[0]=r=>n.username=r),placeholder:"\u7528\u6237\u540D"},{prepend:t(()=>[o(c,null,{default:t(()=>[o(x)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(g,{prop:"password"},{default:t(()=>[o(m,{modelValue:n.password,"onUpdate:modelValue":e[1]||(e[1]=r=>n.password=r),type:"password",placeholder:"\u5BC6\u7801",onKeyup:e[2]||(e[2]=q(r=>p(),["enter"]))},{prepend:t(()=>[o(c,null,{default:t(()=>[o(w)]),_:1})]),_:1},8,["modelValue"])]),_:1}),l("div",T,[o(f,{type:"primary",onClick:e[3]||(e[3]=r=>p())},{default:t(()=>[$]),_:1})]),l("div",M,[o(k,{to:"/user/register"},{default:t(()=>[o(f,null,{default:t(()=>[P]),_:1})]),_:1})])]),_:1},8,["model"])])])}}});var H=B(R,[["__scopeId","data-v-61f85819"],["__file","D:/project/tdp-cloud-ui/src/apps/user/login.vue"]]);export{H as default};
