import{_ as C,d as w,v as F,x as I,q as g,b as l,c as k,e as A,f as e,g as t,A as p,u as E,j as r,m as S,E as h,y as K}from"./index.3fb8d147.js";const N=r("div",{class:"clearfix"},[r("span",null,"\u5BC6\u94A5\u5217\u8868")],-1),U=S(" \u5220\u9664 "),q=r("div",{class:"clearfix"},[r("span",null,"\u6DFB\u52A0\u5BC6\u94A5")],-1),L=S("\u4FDD\u5B58"),M=w({name:"secret",setup($){const i=F(),d=I(()=>i.secretList),m=()=>{p.user.fetchSecrets().then(a=>{i.setSecrets(a)})},o=g({describe:"",secretId:"",secretKey:""}),v=()=>{p.user.createSecret(o).then(a=>{h.success(a.result),m()})},D=a=>{K.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"}).then(()=>{const s=d.value[a];p.user.deleteSecret(s.ID).then(c=>{d.value.splice(a,1),h.success(c.result)})})};return m(),(a,s)=>{const c=l("el-table-column"),y=l("Delete"),V=l("el-icon"),f=l("el-button"),B=l("el-table"),b=l("el-card"),_=l("el-input"),u=l("el-form-item"),x=l("el-form");return k(),A("div",null,[e(b,{shadow:"hover",class:"mgb20"},{header:t(()=>[N]),default:t(()=>[e(B,{data:E(d),style:{width:"100%"}},{default:t(()=>[e(c,{prop:"ID",label:"\u5E8F\u53F7",width:"80"}),e(c,{prop:"Describe",label:"\u522B\u540D",width:"160"}),e(c,{prop:"SecretId",label:"Secret Id"}),e(c,{prop:"SecretKey",label:"Secret Key"}),e(c,{label:"\u64CD\u4F5C",width:"180",align:"center"},{default:t(n=>[e(f,{link:"",type:"danger",onClick:j=>D(n.$index)},{default:t(()=>[e(V,null,{default:t(()=>[e(y)]),_:1}),U]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e(b,{shadow:"hover"},{header:t(()=>[q]),default:t(()=>[e(x,{"label-width":"90px"},{default:t(()=>[e(u,{label:"\u522B\u540D"},{default:t(()=>[e(_,{modelValue:o.describe,"onUpdate:modelValue":s[0]||(s[0]=n=>o.describe=n)},null,8,["modelValue"])]),_:1}),e(u,{label:"SecretId"},{default:t(()=>[e(_,{modelValue:o.secretId,"onUpdate:modelValue":s[1]||(s[1]=n=>o.secretId=n)},null,8,["modelValue"])]),_:1}),e(u,{label:"SecretKey"},{default:t(()=>[e(_,{modelValue:o.secretKey,"onUpdate:modelValue":s[2]||(s[2]=n=>o.secretKey=n)},null,8,["modelValue"])]),_:1}),e(u,null,{default:t(()=>[e(f,{type:"primary",onClick:v},{default:t(()=>[L]),_:1})]),_:1})]),_:1})]),_:1})])}}});var W=C(M,[["__file","D:/Workspace/qcloud-tdp/tdp-cloud-ui/src/apps/user/secret.vue"]]);export{W as default};
