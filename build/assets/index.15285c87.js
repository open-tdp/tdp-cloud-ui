var E=Object.defineProperty,N=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var w=(l,e,s)=>e in l?E(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s,g=(l,e)=>{for(var s in e||(e={}))V.call(e,s)&&w(l,s,e[s]);if(b)for(var s of b(e))j.call(e,s)&&w(l,s,e[s]);return l},I=(l,e)=>N(l,A(e));import{_ as M,d as U,j as y,a as _,c as p,F as C,k as $,A as h,o as f,g as G,w as i,e as m,t as u,b as o,i as r,u as Z,h as L}from"./index.8c355be6.js";import{d as q,b as k}from"./utils.b2ec6894.js";const H={class:"card-header"},J=r(" \xA0 "),K=r(" \u67E5\u770B "),O=U({__name:"index",setup(l){const e=y({}),s=y({}),F=async()=>{(await h.lighthouse.describeRegions()).RegionSet.forEach(async a=>{e[a.Region]=I(g({},a),{InstanceCount:0,InstanceSet:[]}),x(a.Region)})},x=async t=>{const a=await h.lighthouse.describeInstances(t);return a.TotalCount>0&&(e[t].InstanceCount=a.TotalCount,e[t].InstanceSet.push(...a.InstanceSet),v(t)),a.TotalCount},v=async t=>{const a=await h.lighthouse.describeInstancesTrafficPackages(t);a.TotalCount>0&&a.InstanceTrafficPackageSet.forEach(n=>{s[n.InstanceId]=n.TrafficPackageSet.pop()})},T=t=>{if(!s[t])return"";const a=k(s[t].TrafficUsed),n=k(s[t].TrafficPackageTotal);return`${a} / ${n}`},B=t=>{const a=t.split("-"),n=a.pop();return t=a.join("-"),e[t]?e[t].RegionName+` ${n} \u533A`:""};return F(),(t,a)=>{const n=_("el-table-column"),P=_("el-button"),D=_("router-link"),S=_("el-table"),R=_("el-card");return f(),p("div",null,[(f(!0),p(C,null,$(e,d=>(f(),p(C,{key:d.Region},[d.InstanceCount>0?(f(),G(R,{key:0,shadow:"hover",class:"mgb10"},{header:i(()=>[m("div",H,[m("b",null,u(d.RegionName),1),J,m("small",null,"\u5B9E\u4F8B\u603B\u6570: "+u(d.InstanceCount),1)])]),default:i(()=>[o(S,{data:d.InstanceSet,"table-layout":"fixed"},{default:i(()=>[o(n,{fixed:"",prop:"InstanceName",label:"\u540D\u79F0","min-width":"150"}),o(n,{label:"\u5730\u57DF","min-width":"150"},{default:i(c=>[r(u(B(c.row.Zone)),1)]),_:1}),o(n,{prop:"CPU",label:"vCPU","min-width":"100"}),o(n,{label:"\u5185\u5B58","min-width":"100"},{default:i(c=>[r(u(c.row.Memory+" GiB"),1)]),_:1}),o(n,{label:"\u7CFB\u7EDF\u76D8","min-width":"150"},{default:i(c=>[r(u(c.row.SystemDisk.DiskSize+" GiB"),1)]),_:1}),o(n,{label:"\u6D41\u91CF(\u5DF2\u7528/\u603B\u91CF)","min-width":"180"},{default:i(c=>[r(u(T(c.row.InstanceId)),1)]),_:1}),o(n,{prop:"PrivateAddresses",label:"\u5185\u7F51 IP","min-width":"150"}),o(n,{prop:"PublicAddresses",label:"\u5916\u7F51 IP","min-width":"150"}),o(n,{label:"\u5230\u671F\u65F6\u95F4","min-width":"180"},{default:i(c=>[r(u(Z(q)(c.row.ExpiredTime,"yyyy-MM-dd hh:mm:ss")),1)]),_:1}),o(n,{fixed:"right",label:"\u64CD\u4F5C",width:"180",align:"center"},{default:i(c=>[o(D,{to:"/lighthouse/detail/"+c.row.Zone+"/"+c.row.InstanceId},{default:i(()=>[o(P,{link:"",type:"primary",icon:"View"},{default:i(()=>[K]),_:1})]),_:2},1032,["to"])]),_:1})]),_:2},1032,["data"])]),_:2},1024)):L("v-if",!0)],64))),128))])}}});var Y=M(O,[["__scopeId","data-v-20bb1141"],["__file","D:/project/tdp-cloud-ui/src/apps/lighthouse/index.vue"]]);export{Y as default};
