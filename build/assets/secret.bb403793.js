import{_ as V,d as x,s as A,j as D,a as n,c as g,b as e,w as t,A as m,o as k,u as F,e as _,p as E,f as K,i as f,E as S,n as M}from"./index.57d0b522.js";const v=d=>(E("data-v-1d4c2ca0"),d=d(),K(),d),L=v(()=>_("div",{class:"card-header"},[_("span",null,"\u5BC6\u94A5\u5217\u8868")],-1)),N=f("\u5220\u9664"),U={class:"card-header"},j=v(()=>_("span",null,"\u6DFB\u52A0\u5BC6\u94A5",-1)),$=f(" \u817E\u8BAF\u4E91 CAM "),q=f("\u4FDD\u5B58"),Q=x({__name:"secret",setup(d){const u=A(),h=()=>{m.user.fetchSecrets().then(l=>{u.setSecrets(l)})},s=D({secretId:"",secretKey:"",description:""}),y=()=>{m.user.createSecret(s).then(l=>{S.success(l.result),s.secretId="",s.secretKey="",s.description="",h()})},w=l=>{M.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"}).then(()=>{const o=u.secretList[l];m.user.deleteSecret(o.Id).then(c=>{u.secretList.splice(l,1),S.success(c.result)})})},C=()=>{window.open("https://console.cloud.tencent.com/cam","_blank")};return h(),(l,o)=>{const c=n("el-table-column"),p=n("el-button"),I=n("el-table"),b=n("el-card"),i=n("el-input"),r=n("el-form-item"),B=n("el-form");return k(),g("div",null,[e(b,{shadow:"hover",class:"mgb10"},{header:t(()=>[L]),default:t(()=>[e(I,{data:F(u).secretList,style:{width:"100%"}},{default:t(()=>[e(c,{prop:"Id",label:"\u5E8F\u53F7",width:"80"}),e(c,{prop:"Description",label:"\u522B\u540D",width:"160"}),e(c,{prop:"SecretId",label:"Secret Id"}),e(c,{prop:"SecretKey",label:"Secret Key"}),e(c,{label:"\u64CD\u4F5C",width:"180",align:"center"},{default:t(a=>[e(p,{link:"",type:"danger",icon:"Delete",onClick:T=>w(a.$index)},{default:t(()=>[N]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),e(b,{shadow:"hover"},{header:t(()=>[_("div",U,[j,e(p,{class:"button",text:"",onClick:C},{default:t(()=>[$]),_:1})])]),default:t(()=>[e(B,{"label-width":"90px"},{default:t(()=>[e(r,{label:"\u522B\u540D"},{default:t(()=>[e(i,{modelValue:s.description,"onUpdate:modelValue":o[0]||(o[0]=a=>s.description=a)},null,8,["modelValue"])]),_:1}),e(r,{label:"SecretId"},{default:t(()=>[e(i,{modelValue:s.secretId,"onUpdate:modelValue":o[1]||(o[1]=a=>s.secretId=a)},null,8,["modelValue"])]),_:1}),e(r,{label:"SecretKey"},{default:t(()=>[e(i,{modelValue:s.secretKey,"onUpdate:modelValue":o[2]||(o[2]=a=>s.secretKey=a)},null,8,["modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(p,{type:"primary",onClick:y},{default:t(()=>[q]),_:1})]),_:1})]),_:1})]),_:1})])}}});var z=V(Q,[["__scopeId","data-v-1d4c2ca0"],["__file","D:/Workspace/qcloud-tdp/tdp-cloud-ui/src/apps/user/secret.vue"]]);export{z as default};
